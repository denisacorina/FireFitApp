@using Domain.Models
@using Application.Services
@inject IWorkoutService WorkoutService
@inject DialogService DialogService
@inject NotificationService NotificationService

<RadzenStack Gap="1rem">
    <RadzenText>Are you sure you want to delete this workout?</RadzenText>
    
    <RadzenStack Orientation="Orientation.Horizontal" JustifyContent="JustifyContent.End" Gap="1rem">
        <RadzenButton Text="Delete" 
                     ButtonStyle="ButtonStyle.Danger" 
                     Click="@DeleteWorkout" />
        <RadzenButton Text="Cancel" 
                     ButtonStyle="ButtonStyle.Light" 
                     Click="@Cancel" />
    </RadzenStack>
</RadzenStack>

@code {
    [Parameter]
    public WorkoutSession workout { get; set; }

    private async Task DeleteWorkout()
    {
        try
        {
            await WorkoutService.DeleteWorkout(workout.SessionId);
            DialogService.Close(true);
        }
        catch (Exception ex)
        {
            NotificationService.Notify(NotificationSeverity.Error, "Error", "Failed to delete workout: " + ex.Message);
        }
    }

    private void Cancel()
    {
        DialogService.Close();
    }
} 